<!-- Navigation -->
<nav class="navbar">
  <div class="container nav-container">
    <div class="logo">MU.dev</div>

    <button class="mobile-toggle" (click)="toggleMenu()" [attr.aria-expanded]="isMenuOpen"
      aria-label="Toggle navigation menu">
      <span class="hamburger" [class.open]="isMenuOpen"></span>
    </button>

    <div class="nav-links" [class.mobile-open]="isMenuOpen">
      <a (click)="scrollToSection('home')" class="nav-link" [class.active]="activeSection === 'home'"
        aria-label="Go to Home section">Home</a>
      <a (click)="scrollToSection('work')" class="nav-link" [class.active]="activeSection === 'work'"
        aria-label="Go to Process section">Process</a>
      <a (click)="scrollToSection('projects')" class="nav-link" [class.active]="activeSection === 'projects'"
        aria-label="Go to Work section">Work</a>
      <a (click)="scrollToSection('experience')" class="nav-link" [class.active]="activeSection === 'experience'"
        aria-label="Go to Experience section">Experience</a>
      <a (click)="scrollToSection('contact')" class="nav-link" [class.active]="activeSection === 'contact'"
        aria-label="Go to Contact section">Contact</a>
    </div>
  </div>
</nav>

<canvas #heroCanvas id="hero-canvas"></canvas>

<!-- Hero Section -->
<header id="home" class="hero-section">
  <div class="container hero-container">
    <div class="hero-content">
      <span class="hero-label mono fade-in-up" aria-hidden="true">// Full-Stack Software Engineer</span>
      <h1 class="hero-title fade-in-up"
        style="transform: translate3d(calc(var(--mouse-x, 0) * 30px), calc(var(--mouse-y, 0) * 30px), 0)">
        {{ personalInfo.headline }}
      </h1>
      <h3 class="hero-highlight fade-in-up"
        style="transform: translate3d(calc(var(--mouse-x, 0) * 20px), calc(var(--mouse-y, 0) * 20px), 0)">
        — {{ personalInfo.highlight }}
      </h3>
      <p class="hero-description fade-in-up">
        {{ personalInfo.description }}
      </p>
      <div class="hero-cta fade-in-up">
        <button (click)="scrollToSection('projects')" class="btn btn-primary">View Projects</button>
        <a href="/Resume.pdf" target="_blank" class="btn btn-outline"
          style="transform: translate3d(calc(var(--mouse-x, 0) * 15px), calc(var(--mouse-y, 0) * 15px), 0)">Resume</a>
      </div>
    </div>
  </div>
</header>

<!-- How I Work -->
<section id="work" class="section">
  <div class="container">
    <h2 class="section-title fade-in-up">Process Over <span class="text-accent">Theory</span></h2>
    <p class="section-subtitle fade-in-up">Pragmatic engineering focused on production stability and maintenance.</p>

    <div class="work-container">
      <div class="work-timeline">
        <div *ngFor="let step of workSteps; let i = index" class="work-step-row fade-in-up"
          [style.transform]="'translate3d(calc(var(--mouse-x, 0) * ' + (10 + i * 5) + 'px), calc(var(--mouse-y, 0) * ' + (10 + i * 5) + 'px), 0)'">
          <div class="step-number-box">{{ step.number }}</div>
          <div class="work-step-card">
            <h3 class="step-card-title">{{ step.title }}</h3>
            <p class="step-card-desc">{{ step.description }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- About Section -->
<section class="section">
  <div class="container">
    <div class="about-box">
      <h2 class="section-title fade-in-up">Experience & <span class="text-accent">Ownership</span></h2>
      <div class="about-text fade-in-up">
        <p *ngFor="let para of personalInfo.about.story.split('\n\n')" class="story-para">{{ para }}</p>
      </div>

      <div class="about-stats-row">
        <div *ngFor="let stat of personalInfo.about.stats; let i = index"
          class="about-stat-panel glass-card stagger-item"
          [style.transform]="'translate3d(calc(var(--mouse-x, 0) * ' + (15 + i * 10) + 'px), calc(var(--mouse-y, 0) * ' + (15 + i * 10) + 'px), 0)'">
          <span class="stat-panel-val">{{ stat.label.split(' ')[0] }}</span>
          <span class="stat-panel-label">{{ stat.label.substring(stat.label.indexOf(' ')) }}</span>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Tech Stack -->
<section class="section skills-section">
  <div class="skills-ambient-glow"></div>
  <div class="skills-light-gradient"></div>

  <div class="container relative-z">
    <h2 class="section-title fade-in-up">Core <span class="text-accent">Competencies</span></h2>
    <p class="section-subtitle fade-in-up">Production-level expertise across the full-stack lifecycle.</p>

    <div class="skills-grid">
      <div *ngFor="let category of getSkillCategories()" class="skill-category-card fade-in-up"
        [style.--glow-color]="getCategoryColor(category)">
        <div class="category-accent-line"></div>
        <div class="category-content">
          <div class="cat-header">
            <svg class="cat-icon-svg" viewBox="0 0 24 24" fill="currentColor">
              <path [attr.d]="getCategorySvg(category)"></path>
            </svg>
            <h4 class="cat-title">{{ category }}</h4>
          </div>
          <div class="tags-list">
            <span *ngFor="let skill of getSkillsByCategory(category)" class="skill-tag mono">
              {{ skill.name }}
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Featured Projects -->
<section id="projects" class="section">
  <div class="container">
    <h2 class="section-title fade-in-up">Featured <span class="text-accent">Systems</span></h2>
    <p class="section-subtitle fade-in-up">Scalable platforms delivered for real-world production use.</p>

    <!-- Large Featured Cards (First 3) -->
    <div class="projects-editor-grid">
      <div *ngFor="let project of projects.slice(0, 5); let i = index" class="editor-card fade-in-up"
        [style.transform]="'translate3d(calc(var(--mouse-x, 0) * ' + (20 + i * 5) + 'px), calc(var(--mouse-y, 0) * ' + (20 + i * 5) + 'px), 0)'">
        <div class="editor-chrome">
          <div class="chrome-dots">
            <div class="chrome-dot"></div>
            <div class="chrome-dot"></div>
            <div class="chrome-dot"></div>
          </div>
          <span class="mono" style="font-size: 11px; color: var(--color-text-dim);">{{
            project.title.toLowerCase().replace(' ', '_') }}.ts</span>
        </div>

        <div class="editor-main">
          <div class="editor-sidebar">
            <div class="line-numbers">
              1<br>2<br>3<br>4<br>5<br>6
            </div>
          </div>
          <div class="editor-content">
            <h3 class="project-editor-title">{{ project.title }}</h3>
            <ul class="editor-list">
              <li *ngFor="let highlight of project.highlights" class="editor-list-item">
                <span class="item-arrow">›</span>
                <span class="item-text" [innerHTML]="highlight"></span>
              </li>
            </ul>
          </div>
        </div>

        <div class="editor-footer">
          <span *ngFor="let tech of project.technologies" class="editor-tag">{{ tech }}</span>
        </div>
      </div>
    </div>

  </div>
</section>

<!-- Experience -->
<section id="experience" class="section">
  <div class="container">
    <h2 class="section-title fade-in-up">Professional Journey</h2>
    <p class="section-subtitle fade-in-up">A track record of technical ownership and architecture.</p>

    <div class="exp-timeline">
      <div *ngFor="let exp of experience" class="exp-entry fade-in-up">
        <div class="exp-header">
          <h3 class="exp-title">{{ exp.title }} <span class="text-dim">&#64;</span> <span class="text-amber">{{
              exp.company
              }}</span></h3>
          <span class="exp-period mono">{{ exp.period }}</span>
        </div>
        <ul class="exp-achv">
          <li *ngFor="let achv of exp.achievements">{{ achv }}</li>
        </ul>
      </div>
    </div>
  </div>
</section>

<!-- Contact Section -->
<section id="contact" class="section">
  <div class="container">
    <div class="contact-grid fade-in-up">
      <!-- Left side: Headlines & Links -->
      <div class="contact-info">
        <h2 class="contact-large-title">Let's talk.<br><span class="text-accent">Contact Me</span></h2>
        <p class="contact-supporting-line">
          I’m open to discussing technical challenges, product roles, and meaningful engineering collaborations.
        </p>

        <div class="contact-primary-email">
          <a [href]="'mailto:' + personalInfo.email" class="email-link pulse-hover">
            {{ personalInfo.email }}
          </a>
        </div>

        <div class="social-links-grid">
          <a [href]="personalInfo.github" target="_blank" class="social-btn">
            <svg class="social-icon-svg" viewBox="0 0 24 24" fill="currentColor">
              <path [attr.d]="getSocialSvg('github')"></path>
            </svg>
            GitHub
          </a>
          <a [href]="personalInfo.linkedin" target="_blank" class="social-btn">
            <svg class="social-icon-svg" viewBox="0 0 24 24" fill="currentColor">
              <path [attr.d]="getSocialSvg('linkedin')"></path>
            </svg>
            LinkedIn
          </a>
          <a href="#" class="social-btn">
            <svg class="social-icon-svg" viewBox="0 0 24 24" fill="currentColor">
              <path [attr.d]="getSocialSvg('twitter')"></path>
            </svg>
            Twitter / X
          </a>
        </div>
      </div>

      <!-- Right side: Modern Form -->
      <div class="contact-form-container">
        <form class="modern-form" (submit)="sendMessage(); $event.preventDefault()"
          style="transform: translate3d(calc(var(--mouse-x, 0) * -20px), calc(var(--mouse-y, 0) * -20px), 0);">
          <div class="form-group">
            <label for="name" class="form-label">Your Name</label>
            <input type="text" id="name" name="name" [(ngModel)]="contactForm.name" class="form-input"
              placeholder="John Doe" required>
          </div>

          <div class="form-group">
            <label for="email" class="form-label">Your Email</label>
            <input type="email" id="email" name="email" [(ngModel)]="contactForm.email" class="form-input"
              placeholder="john@example.com" required>
          </div>

          <div class="form-group">
            <label for="message" class="form-label">Your Message</label>
            <textarea id="message" name="message" [(ngModel)]="contactForm.message" class="form-input form-textarea"
              placeholder="How can I help?" required></textarea>
          </div>

          <div class="tag-selection-area">
            <button type="button" *ngFor="let tag of availableTags" (click)="toggleTag(tag)"
              [class.active]="isTagSelected(tag)" class="selection-tag">
              <span class="tag-indicator"></span>
              {{ tag }}
            </button>
          </div>

          <button type="submit" class="btn btn-primary btn-submit">
            Send Message <span class="btn-arrow">→</span>
          </button>
        </form>
      </div>
    </div>

    <!-- Expanded Footer -->
    <footer class="footer-refined fade-in-up">
      <div class="footer-main-grid">
        <!-- 1. Personal Signature -->
        <div class="footer-part signature-area">
          <h4 class="footer-logo mono">MU.dev</h4>
          <p class="footer-sig-text">Built and designed by <span class="text-white">Mohit Upadhyay</span></p>
          <p class="footer-philosophy-small">Solving complex problems through deliberate engineering.</p>
        </div>

        <!-- 2. Built With -->
        <div class="footer-part built-with-area">
          <h5 class="footer-heading mono">Built With</h5>
          <div class="built-tech-list mono">
            <span>Angular,
              TypeScript,
              Tailwind CSS,
              Vercel</span>
          </div>
        </div>

        <!-- 3. Availability -->
        <div class="footer-part availability-area">
          <h5 class="footer-heading mono">Availability</h5>
          <p class="availability-status">
            <span class="status-dot pulse"></span>
            Based in India • Open to remote & product roles
          </p>
        </div>
      </div>

      <div class="footer-copyright-strip mono">
        &copy; 2026 Mohit Upadhyay // Production Grade Development.
      </div>
    </footer>
  </div>
</section>